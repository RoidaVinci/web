<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chessboard Puzzle Solution</title>
  <script src="https://cdn.jsdelivr.net/gh/jquery/jquery@3.6.1/dist/jquery.slim.min.js" integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="../assets/cmun-serif/cmun-serif.css">
  <link rel="stylesheet" href="../assets/article.css">
  <link rel="icon" type="image/x-icon" href="../favicon.ico">
  <link rel="shortcut icon" type="image/png" href="../favicon.png">
  <style>
    .table {
      width: 60%;
      margin: auto;
      border-collapse: collapse;
    }

    .table th, .table td {
      border: 2px solid #000;
      padding: 5px;
      text-align: center;
    }
  </style>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      TeX: {
        extensions: ["AMSmath.js", "AMSsymbols.js", "AMScd.js"],
        equationNumbers: { autoNumber: "AMS" },
        Macros: {
          RR: "{\\mathbb{R}}",
          bold: ["{\\bf #1}", 1]
        }
      },
      "HTML-CSS": { availableFonts: ["TeX"] }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      MathJax.typesetPromise();
    });
  </script>
</head>
<body>

  <!-- Back Button -->
  <a href="javascript:history.back()" class="back-button">
    <i class="fas fa-arrow-left"></i>
  </a>

  <main role="main" class="container-sm" style="max-width: 1080px">
    <h1 class="page-title">Chessboard Puzzle Solution</h1>
    
    <p>
      Two prisoners want to escape from Teixeiro. They play a game by correspondence on a chessboard \(8 \times 8\) where each square has a piece that is white on one side and black on the other. The guard who carries the board between the cells of the two prisoners forgot the key to the second prisoner's cell in one of the squares on the board, and the first prisoner knows where it is. With just one move consisting of flipping one of the 64 pieces, the first prisoner must inform the second of where the key is hidden. The configuration of the board before the move is random, but the prisoners can agree in advance on how the second should decode the board to find the key.
    </p>

    <div class="show-solution-container">
  <a href="javascript:void(0)" class="btn btn-primary" onclick="toggleSolution()">
    <i class="fas fa-eye"></i> Show Solution
  </a>
</div>

  <!-- Solution Content -->
  <div class="solution" id="solution" style="display:none;">
      <p>
        Essentially, this problem consists of finding a way to encode and decode the board's information with the following properties:
      </p>
      <ul>
        <li>Each configuration of the board can be interpreted as a number between \(0\) and \(63\), which identifies a square. That is, there is a function \( \Gamma:\operatorname{M}_{8\times 8}\left(\{0,1\}\right)\longrightarrow\{0,\ldots,63\} \), where the elements \( T\in \operatorname{M}_{8\times 8}\left(\{0,1\}\right) \) are different configurations of the board, with \( T_{ij}=0 \) if the square \( (i,j) \) has a white piece and \( T_{ij}=1 \) if the piece is black.</li>
        <li>Given any board configuration \( T \) and any number \( n \) between \(0\) and \(63\), there exists a modification of only one square \( T\to \hat{T} \) such that \( \Gamma(T)=n \).</li>
      </ul>
      <p>
        In this case, the two prisoners agree beforehand on the function \( \Gamma \), so that both know how to obtain the same number from the board. The problem is to find a function \( \Gamma \) that satisfies the second of the above properties.
      </p>
      <p>
        Notice that \(64 = 2^6\), so we can precisely obtain values between \( n \in \{0,\ldots,63\} \) with 6 binary digits:
      </p>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">\(n=\)</th>
            <th scope="col">\(a_1\)</th>
            <th scope="col">\(a_2\)</th>
            <th scope="col">\(a_3\)</th>
            <th scope="col">\(a_4\)</th>
            <th scope="col">\(a_5\)</th>
            <th scope="col">\(a_6\)</th>
          </tr>
        </thead>
      </table>
      <p>
        It also happens that \(64 = |\mathcal{P}(\{1,2,3,4,5,6\})|\), so there is a one-to-one function \( \phi:8\times 8\longrightarrow \mathcal{P}(\{1,2,3,4,5,6\}) \), where \( \mathcal{P} \) denotes the power set. These two observations solve the problem since we can associate one by one the squares of the board with subsets of \( \{1,2,3,4,5,6\} \). Therefore, by moving the appropriate piece, we can change exactly the binary positions between \(1,\ldots,6\) that we want and leave the rest unchanged. More precisely, if \( \phi(i,j) \) are the binary indices that change when flipping the piece \( (i,j) \), then the \( k \)-th binary digit is given by:
      </p>
      <p>
        $$ a_k(T) = \overline{\sum_{k\in\phi(i,j)}t_{ij}}^{\mathbb{Z}_2} $$
      </p>
      <p>
        And the number associated with the board is given by:
      </p>
      <p>
        $$ \Gamma(T) = \sum_{k=1}^6 2^{k a_k(T)} \in \{0,\ldots,63\} $$
      </p>
      <p>
        That is, the \( k \)-th binary digit identifies the parity of the black pieces on the squares of the board associated with the number \( k \). Since for any subset \( I \in \mathcal{P}(\{1,\ldots,6\}) \) there exists a square \( (i,j) = \phi^{-1}(I) \) associated with this, it is possible to change exactly the binary digits \( k \in I \) by flipping the piece at the board position \( (i,j) \). Therefore, starting from any configuration, we can obtain the number we want by flipping a single piece on the board.
      </p>
    </div>

<script>
  function toggleSolution() {
    var solutionDiv = document.getElementById("solution");
    var solutionButton = document.querySelector(".show-solution-container a");
    if (solutionDiv.style.display === "none" || solutionDiv.style.display === "") {
      solutionDiv.style.display = "block";
      solutionButton.innerHTML = '<i class="fas fa-eye-slash"></i> Hide Solution';
    } else {
      solutionDiv.style.display = "none";
      solutionButton.innerHTML = '<i class="fas fa-eye"></i> Show Solution';
    }
  }
</script>

  </main>
</body>
</html>
